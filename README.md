# BirdsPlus Species Scores

This repository contains the data and code necessary to duplicate the **BirdsPlus Index** results that accompany our in-review paper.

**Preprint:** <https://www.biorxiv.org/content/10.1101/2025.10.14.682393v1>

------------------------------------------------------------------------

## Repository Contents

### R/

-   **R/convert_Birdnet_predictions_to_detections.R:** script, including a function, to convert BirdNET predictions, in the specified format, into thresholded detections.
-   **R/convert_Merlin_predictions_to_detections.R:** script, including a function, to convert Merlin predictions, in the specified format, into thresholded detections.
-   **R/holdout_parks.R:** details on how the held-out parks were identified.
-   **R/match_ebird_to_parks-current.R:** geospatial intersection with the park polygons and eBird data to identify which park, if any, an eBird point came from.

### Python/

-   **Python/1-prep-BPI-train&test-forReview.py:** prep train, test, and heldout eval (park) acoustic checklist datasets. Note that there are arguments (sound ID model and thresholds) that can be modified to process each of the datasets.
-   **Python/1-prep-ebird-train&test-forReview.py:** prep train, test, and heldout eval (park) eBird checklist datasets.
-   **Python/2-run-BPI-RF&plot-forReview.py:** prep train, test, and heldout eval (park) acoustic checklist datasets. Note that there are arguments (sound ID model and thresholds) that can be modified to run the model across each of the train datasets.
-   **Python/2-run-ebird-RF&plot-forReview.py:** prep train, test, and heldout eval (park) acoustic checklist datasets.
-   **Python/3-quantify-RFmodel-performance-forReview.py:** quantify model performance. Used for both the acoustic and eBird checklist datasets (modify arguments accordingly in script).
-   **Python/4-evaluate-focal-sites-forReview.py:** predict site-level BirdsPlus scores for the heldout eval sites. Used for both the acoustic and eBird checklist datasets (modify arguments accordingly in script).

### outputs/

-   **outputs/:** this directory is a placeholder for the outputs that are generated by some of the Python scripts.

### data/

-   **Top-level files:**
    -   **data/indexScores_v1-4.csv:** BirdsPlus species scores from <https://www.biorxiv.org/content/10.1101/2025.07.15.664934v1>
    -   **data/NE_species_thresholds.csv:** Species-specific 95% precision thresholds used for the custom Merlin threshold.
    -   **data/eBird_taxonomy_v2024.csv:** Copy of the official eBird 2024 Clement's taxonomy.
    -   **data/BirdNET_taxonomy_fixed.csv:** Patch file to fix BirdNET's taxonomy and drop irrelevant taxa.
    -   **data/acoustic_checklist_metadata.csv:** Sampling and environmental covariate information for the acoustic checklists.
    -   **data/ebird_checklist_metadata.csv:** Sampling and environmental covariate information for the eBird checklists.
    -   **data/srd_subset_acoustic+ebird_17Oct2023.csv:** Spatial grid of environmental data for the study region.
    -   **data/NE_acoustic_covariates.csv:** Calculated acoustic covariates (acoustic complexity index, etc).
    -   **data/holdout_parks_8Apr2025.csv:** Heldout acoustic and eBird checklists from the focal (eval) parks.
-   **Subdirectories:**
    -   **data/NE_BirdNET_predictions:** raw, parsed BirdNET predictions for the acoustic checklists.
    -   **data/NE_Merlin_predictions:** raw, parsed Merlin predictions for the acoustic checklists.
    -   **data/NE_geofilters:** spatiotemporally defined allowable species lists for each acoustic checklist.
    -   **data/QGIS:** spatial data for the park identifications.
    -   **data/NE_BirdNET_detections_025:** acoustic checklists for the BirdNET predictions after thresholding at 0.25.
    -   **data/NE_BirdNET_detections_05:** acoustic checklists for the BirdNET predictions after thresholding at 0.5.
    -   **data/NE_BirdNET_detections_09:** acoustic checklists for the BirdNET predictions after thresholding at 0.9.
    -   **data/NE_Merlin_detections_025:** acoustic checklists for the Merlin predictions after thresholding at 0.25.
    -   **data/NE_Merlin_detections_05:** acoustic checklists for the Merlin predictions after thresholding at 0.5.
    -   **data/NE_Merlin_detections_09:** acoustic checklists for the Merlin predictions after thresholding at 0.9.
    -   **data/NE_Merlin_detections_custom:** acoustic checklists for the Merlin predictions after thresholding using the values in data/NE_species_thresholds.

------------------------------------------------------------------------

## Usage

1.  Warning. There are \~250,000 files in this repo, and it weighs \~2.2 GB. If you still want to proceed, clone the repository:

``` bash
git clone https://github.com/eliotmiller/BirdsPlusIndex_paper.git
```

2.  Do things.
